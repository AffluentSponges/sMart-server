sudo: false
language: node_js
node_js:
- stable
before_script:
-psql -c 'create database smart_server_test;' -U BrennerSpear
script:
- npm test
after_success:
- npm run report-coverage
env:
  global:
  - secure: uiHUYHvMjRfmtmtOV2F7A/OxIRvFCXpPHUclFOPuEphMa1oEEoO81kCAFEZ9oY2nBpSkpPibRQxBl0WHiKr3FglDPAvlUoN1cntI+LIlgRuNrB63K2jx01w9qbuqLZtN8s+a+Z/UTP5ZneDHEM7NbJmHhKLw4ox9uMwrW5+dOS6w4GXaa8/a7BJ1nDEhP3pUtI6YqZrf3gioTo8SLrBdgJ7iJOzn8hqhaaUnPa+ifva6v9zrXK3yxFLsoCrFdWHTU2tDSMyHGlYqa0qW5p9SV0ol/tmEJvCBN43QkU65UW4fAEXZjwbFKPsAFYWExsrEA55365VqicRRhZR6nj8F8zgWsgi2vo7ZLmMdAUG6VQD2kdBmEaEcfoYzTxx4bDc/BBDNIzRNESMudv0jSZIQCxWrtphXk2/OUoOjmEeuUY80JBoXBVPH/0fzl0tdDwhcm7/B7hkVgRmOdV4sr11RnBcTco4MEybmBSv/v6DowHumwNCeCm2l2S5JFJY2i9/ZSMBPW10pqw7PeNX5C1wKX/gYHCPTgl+rNkbLS1CEyFOVtfJ3jJiH2Q2YVG+sUTbneXmDdIbzeb2kKZMh38ZVygLmT888Zif4iFKwrYH0AHWz3dYFvr2pn1TGJn7KyPe1wRQuC1fHpeb/fNA426dUU+BJwBI+lvYNX1jxe0oh6xw=
  - secure: LC6DTBZZMgMZFMuu19czGPwjgNFxArWe5VyN8cpLoK0NXbvcvl2NLtL0KbK0Sf1LmQUTZzdKGGRVGsDLqqIlUulMivWyixsUbRvY6caoWKhSaisHik4YIvGcPaWR8t0KKj+jGpBXKpSDZm/TJ7M3DuDlvDZ88jKIj328cF2BxdyfiTvMPVnkDG5abcr+B4JI/p8Gb4/x54LSbWF0PRvI/XGLEuN7NZRUftNlx94RA7JZVJd1p9WWKraKJqtEvuVD6EyAoL1xkC1nNug7H8Jo9dcch3eOkllGO1gV3jsO2vqH4G32KK7wNMPlTC6DhK17XpaiQATNPWzxyNeqsM0zXeasB/S2yRciicqeqWIdg+hpb1KaxV4nnaxkwirq9mGuzaIDddEAvBxwzqfItyAzRHAvcXDYM+gN2abNeawEvFrf3CC7bRoOKQud6l0Vv6YMK/hn6Flm7xQXCOIxhifRGjeB0fKlJEa/M95Dv/ePs+pcDk8QS4wcHBKsumRliZyAAlOpPPu7LVqaD5jex7zQnPaSYjAYT2Xg4DkWUWFo7gOUv5xKv8QocfEvrRxNVPJMDCWjjU6E8JilG5QbCeVpuiJ4xB218o488qJawumpzfcHi3HsZKK74HMwTdMXhYVUKpKdW14hinIMHPn2GfUn61KEhwz5oOGWj3W8Sv66yqg=
  - secure: IOk0/OkhGLSHI8k8Q5NZjLlorb93L/lb5NGh8OupSrHZ3mKzzeMAK3VsgqIvwAwldT8doq2KPw1Kq6qDo6jVAu6oSQKDZs0aS10oDDgIv8XhSKpliPUHiEecuvJOPrAf6wGvjqAZaw43BxH82/pRtqpeQMsuECBLTteR2JeYyPGZD6ks7jAlaYFskkFdVCY5KQuyJ/kGMkkihQGK9Ok9QmUO1YwleYomxdmgi32pQ1718jF189nuccPWyROYlaUxCSu3IM7oqV53XYhoGOHCExdf4FMX8b4Xsisaqp5kS2xheBkDHpZq0/af/+oyTlLZ5iCpDid4e21VmSRgaUJ+Yy+hzJX1vdBLJDHNxbN4x9AStrLSsKN3fnRkZ1J2tXP2ifxXFsLeWxGKEziBlzo1+ltko9qVyTpsN7qW700/b42J9ei5cXFJB9tkP1NJy1vRwuYSeV75tRo+UT0/WwQG2v6LzeFVVcmzrqQKWw6WKKtnk5wjEKQzOpfcu4sal+Um4JSYOs6vmGsblE3nS147ldMstb56nvzc1BJIzUaah1C+IYBnPYH2B+/Chu68lQuwPJ5IQJU8FZXxkifl0oy8iMlwoVXxqsLFC1B2XUe/p2UdpeVoJAZ3yRO162EhlMgrkwMqCj+CaI+x7BvMRjshypHUSLcBa7JMNbm7Qfc0sbo=
  - secure: BvK+tPIyk7RmjQ/Sr5KqE4A3TMzno1tGrgoE1pXEgJ46OtjBTKgJe48z+oe5RkI8R57AHpoBGx5oR4OIWPZkL80jfAvD2iHIIZ/cI9tsmarNAFEeCSsjd4lWuZkZFMG7JXtR3iXNzWDvpPlhgEAiyD3GZHY65zTk/xgNs+5st/4q0qnZ7buvlFrXR+0IYYUl5WFPZZjoF2u81y9VV5xHfbUwg5T2nG7HSL++G0Gtvv4a69JNijTxbQSO/hznQzn2bVq/E/JAdoPlbRqtAfylRibUjP5NihRAYkRspUT/o/M52AApkx4sojIhKFO6ChkU/PYDWIK3zH7LNheVArlDkCByGzpaiFErrI0fIeMlpA4OH00M311r/u6+wHGuqfsQoAJiGhZXtf26gSSHYLjR3VG/RoqYZ6dXUFSPLTyTE66xBk4cRfVGhwpNoqGoETA4olnHVWvQr9KUeN0e+En0d5OjzyeC1Q580W3uxR88v/R2ew77II4KiEgP3qs8vr7E/j/oNAYkiEvW7gyWyTPZx7xxtAG1sl9HdweYE+VlhlekQiOr9XrEyZyEn9M7gDy/RorY4YcLZPhVScP6VvoeXXrjp2F1FG5D0Fot6OSU6cVb4lwJd/XZJFphRpvBX04YuXjUdYuCDB4IG0hV0N54UIE8JlHkUBcXd7Tu7PU7Kt4=
  - secure: nuOJ/z1bD6XnuCNXJjfsBSepYf3NS6yuPgiETin6qBWV70JeFuK/TPWF2P1DPpRufwUNaQcyhv93Q4pAsDMZUQyHnyJepoKKokwQ54J/4zUgBELkADywWSn12OALwEPW+r9E4FMmAF/7cqCW/KjXWb9KV8SDIByreC9jCjtglIkSgjHKJCJtZvJewNCwxjZxj6VKrxm+Ucxu7vg1CbYabxK1rEHHAw95VWZjecYkI/G2ttrWiiYUOyw5ZfnQVo8Svupyv1XrEyBZ8NsLxSic+uW1Q8GcrRSOxTSaOiYs7ba0bTfcTT3ivQ/ISUpEVy6njARTN6FMGjzTv7r3aOdlvuOsCmhwxRFlKmo0ZZIXozBMearrcG8ANTbkKyG57a1xdltqTQQHPtCbXv2rjSaZQUZ8ZLivTm5314vsRlyRgQ+xnm06Do3QAEK3weQcNfI50cGlXLMaXH/n9p9NAqfgKy/k4FGKpqxgfEo4LEiTHiuJ5NAGbsIjOR8z3jSnLevDe8iHBy2hyBkslLuwaUYgAoNjN3zpn7s5uxBG1ex9bILZBldpduvcR2LsN5UBGx43ZDaGV9ueOyvG4VGboDeN3t7Z8POF/1n+2Eef6B3gbrcXrmQyOZUUtf75zkPmemE7Q86LLV3OPM5DKqP8TQ82+ZgXsMf2U3yKmvw8XVRHWug=
services:
- postgresql